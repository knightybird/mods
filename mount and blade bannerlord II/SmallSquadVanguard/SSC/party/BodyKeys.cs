using System;
using System.Collections.Generic;
using System.IO;

namespace SSC.party
{
	// Token: 0x02000045 RID: 69
	internal static class BodyKeys
	{
		// Token: 0x06000236 RID: 566 RVA: 0x0000C0B4 File Offset: 0x0000A2B4
		public static Dictionary<string, string> getBodyKeys()
		{
			return new Dictionary<string, string>
			{
				{
					"spc_companion_mavinon",
					"0020D80FC05805C538BB97B755898A565CA47A8EBAAA96955498489A49A5B76300CA06030CB6538D0000000000000000000000000000000000000000159C3082"
				},
				{
					"spc_companion_flavios",
					"000D8C08C000128F77735F20783771E687985778698877817868068274D6913300E806030E6D561700000000000000000000000000000000000000004BCC40C2"
				},
				{
					"spc_companion_de_ker",
					"00078C09C000100BE67247EEC0AC8DBB21AE8C6864D117E47741ACB7849756BD00A950030ACD22B200000000000000000000000000000000000000000F4860C5"
				},
				{
					"spc_companion_culharn",
					"00105408C0B43802594C085983DBA33B84B87184922746774C489596BA38C66300FC06030F1C19B700000000000000000000000000000000000000000DF43002"
				},
				{
					"spc_companion_griff",
					"000D800B8FB43806C07473A76776CCE069A98BB5A88758493A8E8A8AC769544D00CC06030CDAD578000000000000000000000000000000000000000037A45145"
				},
				{
					"spc_companion_sein",
					"00107C08C0FC06DCAAAA56BA499789A458AA016767B5A969994653997674818100C806030C58566300000000000000000000000000000000000000002F849042"
				},
				{
					"spc_companion_morcar",
					"0001AC070000200CCC8E9AC974A378B6E78874FECE359155EEBDB95581890A37018C601408B2B50C00000000000000000000000000000000000000000F106044"
				},
				{
					"spc_companion_montfort",
					"0018E808C0A03600426A566B5755998117B86B197AA5A8A2578928794654778600B746030B9A8A750000000000000000000000000000000000000000457C0082"
				},
				{
					"spc_companion_meroc",
					"000220078000300816776C7A371A786C48877356A5A0D5A465D1E277911EE4B101EC50140E66140700000000000000000000000000000000000000003FE01080"
				},
				{
					"spc_companion_armand",
					"0008A008002C3182B58897987969985562756D556647ABB9C649966882B65A6800D776030D5B7677000000000000000000000000000000000000000027BC7002"
				},
				{
					"spc_companion_folc",
					"00027C0A402C1106B7799888C8873DD77B5C7768587687979673A4766A7B98B700CA06030C7C4927000000000000000000000000000000000000000045A42002"
				},
				{
					"spc_companion_lamarc",
					"0002AC0200B413C842AAEC91349C19AA76AABB4889E744842CD875ABB6877C2B00EC16030E126C75000000000000000000000000000000000000000017E41142"
				},
				{
					"spc_companion_cherald",
					"00054804C0000001457FB40A152C75E6618A8BBF59E0BA85A76CB8AC807906C500CE40030C468A9700000000000000000000000000000000000000000F985041"
				},
				{
					"spc_companion_furcred",
					"0008740B80A0100C3387AAAD5CBCB686BBCD88679AB466C3B5A58CCBC5976A4A00A706030AB873C70000000000000000000000000000000000000000474C4084"
				},
				{
					"spc_companion_malbert",
					"00021C0740002002179F9A679FC49D84663C847C2223A45E4ACCCE368062563701E760140ED3580100000000000000000000000000000000000000000FD03041"
				},
				{
					"spc_companion_sevelar",
					"000574058000300C299575897A41958D702F7A71AD95612CB51678238555FA03006A600306A8C4B500000000000000000000000000000000000000006FD82043"
				},
				{
					"spc_companion_sicard",
					"001EA003405838137780EE1787769FFE77117857777787877977F06F7E888E7700DE06030D227887000000000000000000000000000000000000000051C40144"
				},
				{
					"spc_companion_avigos",
					"000A8803402C12D34745628596C5B744A7B45A842B6A778A66C998874B1CA49700FC06030F997797000000000000000000000000000000000000000037F46042"
				},
				{
					"spc_companion_eutos",
					"000518098000200C3C9AC3A3157DA951A1DB829920559242D8B65A9D966B014400D740030D968D9D00000000000000000000000000000000000000002FB020C5"
				},
				{
					"spc_companion_de_marly",
					"0015280600E4024886775657987291E5B8A5CA8676B9A8B8C6B4894989E9749800DA16030D23753400000000000000000000000000000000000000003FB43082"
				},
				{
					"spc_companion_du_fay",
					"002E900E402C05C21CC67598B4831557638784A5A5CAB2C2A94EDA9BA5ADA66900D916030D55953600000000000000000000000000000000000000004FA45102"
				},
				{
					"spc_companion_buchard",
					"0002A40740002512837A84988FCAECBDB6D8836E517323A2FBAE595795F2E3CA01F860140F3824680000000000000000000000000000000000000000014B14DC"
				},
				{
					"spc_companion_haqr",
					"0026E00FDA44318F1389D466A7666886989A77599986957A5B67593975C8694500D816030DA8C89500000000000000000000000000000000000000004DAC3044"
				},
				{
					"spc_companion_leofric",
					"0013A4081AE4160C98178783777118E7D8A8689881E8A8683EC9799B8997068800AC06030A757C3B000000000000000000000000000000000000000019543102"
				},
				{
					"spc_companion_ragnar",
					"001814035B0022568585B7BA787818F859957788E786A6B5CB99117877787177007786030777E714000000000000000000000000000000000000000038EC3102"
				},
				{
					"spc_companion_brutos",
					"0013940D0014395999776848978492FECA397E78D1E4A918989DE08E7A49B8C800FF36030F7A2AB8000000000000000000000000000000000000000029F43042"
				},
				{
					"spc_companion_draco",
					"001B340D00440000479B648AB786D981C28273B5B6518661A87C4C9AA677C63500BB16030B9759A1000000000000000000000000000000000000000063745145"
				},
				{
					"spc_companion_maximos",
					"000A900C40CC36CD0071574971007EF48087877F8C7889189774807082E7804000B706030B52120700000000000000000000000000000000000000004D6C20C2"
				},
				{
					"spc_companion_jassid",
					"00299C0E4014138F33D824792666784C2997B476628974A567C78DA2489698A400D706030D85467A000000000000000000000000000000000000000055B43042"
				}
			};
		}

		// Token: 0x06000237 RID: 567 RVA: 0x0000C298 File Offset: 0x0000A498
		public static Dictionary<string, PlayerDefinedCompanion> getPlayerDefinedCompanions()
		{
			Dictionary<string, PlayerDefinedCompanion> dictionary = new Dictionary<string, PlayerDefinedCompanion>();
			Dictionary<string, PlayerDefinedCompanion> result;
			try
			{
				string text = Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.Personal), string.Format("Mount and Blade II Bannerlord\\Configs\\{0}", "SmallSquadVanguard"));
				if (!Directory.Exists(text))
				{
					result = dictionary;
				}
				else
				{
					string path = "companions_body_keys.txt";
					if (!File.Exists(Path.Combine(text, path)))
					{
						result = dictionary;
					}
					else
					{
						string[] array = File.ReadAllLines(Path.Combine(text, path));
						for (int i = 0; i < array.Length; i++)
						{
							PlayerDefinedCompanion playerDefinedCompanion = BodyKeys.parse(array[i]);
							if (playerDefinedCompanion != null)
							{
								dictionary.Add(playerDefinedCompanion.stringId, playerDefinedCompanion);
							}
						}
						result = dictionary;
					}
				}
			}
			catch (Exception)
			{
				result = dictionary;
			}
			return result;
		}

		// Token: 0x06000238 RID: 568 RVA: 0x0000C344 File Offset: 0x0000A544
		private static PlayerDefinedCompanion parse(string s)
		{
			string[] array = s.Split(new char[]
			{
				','
			});
			if (array.Length != 3)
			{
				return null;
			}
			if (array[2].Length != 128)
			{
				return null;
			}
			return new PlayerDefinedCompanion
			{
				stringId = array[0],
				companionName = array[1],
				bodyKey = array[2]
			};
		}
	}
}
